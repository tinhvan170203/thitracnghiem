import{c as x,a as d,U as v,r,u as N,g as S,i as y,j as e,d as a,L as q,e as m,B as T,V as w,o as k,W as I}from"./index-3d1a5215.js";import{c as j}from"./commonApi-b66317af.js";import"./axiosCommon-d6374f71.js";const L=x({sbd:d().required("Vui lòng nhập số báo danh"),hoten:d().required("Vui lòng nhập họ tên thí sinh")}).required();function O(V){v();const[l,i]=r.useState(""),[t,u]=r.useState(null),n=N({defaultValues:{sbd:"",hoten:""},resolver:k(L)}),g=S(),{enqueueSnackbar:b}=y();r.useEffect(()=>{(async(o,s)=>{try{let h=await I.get("http://localhost:4000/checkedTest");u(h.data)}catch{i("Không có cuộc thi nào đang diễn ra trong hệ thống. Xin vui lòng liên hệ quản trị viên hoặc xem lại lịch thi. Trân trọng!!")}})()},[]);const p=async c=>{let o={...c,id_cuocthi:t._id};i(null);try{let s=await j.loginTest(o);localStorage.setItem("thongtinthisinh",JSON.stringify(s.data.item)),localStorage.setItem("question_list",JSON.stringify(s.data.questionsSendClient)),localStorage.setItem("thongtinbaithi",JSON.stringify(s.data.cuocthi)),g("/vao-thi"),b("Chúc thí sinh đạt kết quả tốt nhất!",{anchorOrigin:{vertical:"bottom",horizontal:"right"},variant:"success"})}catch(s){i(s.response.data.message)}},{isSubmitting:f}=n.formState;return e("div",{className:"bg-gray-300 h-[100vh] flex justify-center items-center",children:a("div",{className:"w-[90%] bg-white py-8 px-2 rounded-md shadow-lg flex space-x-2 items-center",children:[e("div",{className:"md:basis-1/2 sm:basis-0 lg:basis-2/3 basis-0",children:e("img",{src:"/loginimage.png",className:"rounded-md md:p-8 sm:p-0 w-full shadow-md"})}),a("div",{className:"md:basis-1/2 sm:basis-full lg:basis-1/3 p-4",children:[f&&e(q,{}),a("div",{className:"flex flex-col items-center",children:[e("img",{src:"/cong-an-hieu.png",alt:"conganhieu",className:"w-[100px]"}),e("p",{className:"font-bold",children:"Hệ thống thi trắc nghiệm Công an tỉnh Hưng Yên"})]}),t&&a("p",{className:"text-md text-green-700 font-semibold text-center",children:["Tên cuộc thi: ",t.tencuocthi]}),a("form",{onSubmit:n.handleSubmit(p),className:"mt-1",children:[e(m,{name:"sbd",label:"Số báo danh",form:n,disabled:t===null}),e(m,{name:"hoten",label:"Họ và tên thí sinh",form:n,disabled:t===null}),l&&e("p",{className:"text-md text-center m-2 text-red-800",children:l}),e("div",{className:"flex space-x-2",children:e("div",{className:"basis-full",children:e(T,{type:"submit",disabled:t===null,variant:"contained",startIcon:e(w,{}),fullWidth:!0,style:{margin:"8px auto"},children:"Làm bài thi"})})})]})]})]})})}O.propTypes={};export{O as default};
