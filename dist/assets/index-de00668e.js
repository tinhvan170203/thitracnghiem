var j=Object.defineProperty;var E=(t,e,n)=>e in t?j(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n;var p=(t,e,n)=>(E(t,typeof e!="symbol"?e+"":e,n),n);import{aj as A,ab as O,ak as L,W as g,j as U}from"./index-7b6a1e29.js";import{p as i}from"./LastPage-3e5ae357.js";var y={},$=O;Object.defineProperty(y,"__esModule",{value:!0});var S=y.default=void 0,I=$(A()),_=L,x=(0,I.default)((0,_.jsx)("path",{d:"M19 9h-4V3H9v6H5l7 7 7-7zM5 18v2h14v-2H5z"}),"FileDownload");S=y.default=x;const D=()=>/^((?!chrome|android).)*safari/i.test(navigator.userAgent),v=t=>Array.isArray(t)&&t.every(e=>typeof e=="object"&&!(e instanceof Array)),T=t=>Array.isArray(t)&&t.every(e=>Array.isArray(e)),V=t=>Array.from(t.map(e=>Object.keys(e)).reduce((e,n)=>new Set([...e,...n]),[])),q=(t,e)=>{e=e||V(t);let n=e,r=e;v(e)&&(n=e.map(a=>a.label),r=e.map(a=>a.key));const s=t.map(a=>r.map(o=>B(o,a)));return[n,...s]},B=(t,e)=>{const n=t.replace(/\[([^\]]+)]/g,".$1").split(".").reduce(function(r,s,a,o){const c=r[s];if(c==null)o.splice(1);else return c},e);return n===void 0?t in e?e[t]:"":n},H=t=>typeof t>"u"||t===null?"":t,b=(t,e=",",n='"')=>t.filter(r=>r).map(r=>r.map(s=>H(s)).map(s=>`${n}${s}${n}`).join(e)).join(`
`),P=(t,e,n,r)=>b(e?[e,...t]:t,n,r),M=(t,e,n,r)=>b(q(t,e),n,r),z=(t,e,n,r)=>e?`${e.join(n)}
${t}`:t.replace(/"/g,'""'),m=(t,e,n,r)=>{if(v(t))return M(t,e,n,r);if(T(t))return P(t,e,n,r);if(typeof t=="string")return z(t,e,n);throw new TypeError('Data should be a "String", "Array of arrays" OR "Array of objects" ')},C=(t,e,n,r,s)=>{const a=m(t,n,r,s),o=D()?"application/csv":"text/csv",c=new Blob([e?"\uFEFF":"",a],{type:o}),l=`data:${o};charset=utf-8,${e?"\uFEFF":""}${a}`,u=window.URL||window.webkitURL;return typeof u.createObjectURL>"u"?l:u.createObjectURL(c)},k={data:i.oneOfType([i.string,i.array,i.func]).isRequired,headers:i.array,target:i.string,separator:i.string,filename:i.string,uFEFF:i.bool,onClick:i.func,asyncOnClick:i.bool,enclosingCharacter:i.string},F={separator:",",filename:"generatedBy_react-csv.csv",uFEFF:!0,asyncOnClick:!1,enclosingCharacter:'"'},N={target:"_blank"};class h extends g.Component{constructor(e){super(e),this.state={}}buildURI(){return C(...arguments)}componentDidMount(){const{data:e,headers:n,separator:r,enclosingCharacter:s,uFEFF:a,target:o,specs:c,replace:l}=this.props;this.state.page=window.open(this.buildURI(e,a,n,r,s),o,c,l)}getWindow(){return this.state.page}render(){return null}}p(h,"defaultProps",Object.assign(F,N)),p(h,"propTypes",k);var d;let W=(d=class extends g.Component{constructor(e){super(e),this.buildURI=this.buildURI.bind(this)}buildURI(){return C(...arguments)}handleLegacy(e,n=!1){if(window.navigator.msSaveOrOpenBlob){e.preventDefault();const{data:r,headers:s,separator:a,filename:o,enclosingCharacter:c,uFEFF:l}=this.props,u=n&&typeof r=="function"?r():r;let f=new Blob([l?"\uFEFF":"",m(u,s,a,c)]);return window.navigator.msSaveBlob(f,o),!1}}handleAsyncClick(e){const n=r=>{if(r===!1){e.preventDefault();return}this.handleLegacy(e,!0)};this.props.onClick(e,n)}handleSyncClick(e){if(this.props.onClick(e)===!1){e.preventDefault();return}this.handleLegacy(e)}handleClick(){return e=>{if(typeof this.props.onClick=="function")return this.props.asyncOnClick?this.handleAsyncClick(e):this.handleSyncClick(e);this.handleLegacy(e)}}render(){const{data:e,headers:n,separator:r,filename:s,uFEFF:a,children:o,onClick:c,asyncOnClick:l,enclosingCharacter:u,...f}=this.props,w=typeof window>"u"?"":this.buildURI(e,a,n,r,u);return U("a",{download:s,...f,ref:R=>this.link=R,target:"_self",href:w,onClick:this.handleClick(),children:o})}},p(d,"defaultProps",F),p(d,"propTypes",k),d);const Y=W;export{Y as C,S as d};
